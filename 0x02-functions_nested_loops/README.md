Learning about functions and nested loops in C